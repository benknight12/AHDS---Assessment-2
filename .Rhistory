min = 1,
max = 50,
value = 30),
selectInput('RegTyp', 'Regression type', choices = list("lm","glm", "gam", "loess", "rlm"), selected = "lm")
),
# Show a plot of the generated distribution
mainPanel(
plotOutput("plot1")
plotOutput("plot2")
# Define UI for application that draws a histogram
ui <- fluidPage(
# Application title
titlePanel("Polyps baseline histogram"),
# Sidebar with a slider input for number of bins
sidebarLayout(
sidebarPanel(
sliderInput("bins",
"Number of bins:",
min = 1,
max = 50,
value = 30),
selectInput('RegTyp', 'Regression type', choices = list("lm","glm", "gam", "loess", "rlm"), selected = "lm")
),
# Show a plot of the generated distribution
mainPanel(
plotOutput(list("plot1","plot2"))
)
)
)
# Define UI for application that draws a histogram
ui <- fluidPage(
# Application title
titlePanel("Polyps baseline histogram"),
# Sidebar with a slider input for number of bins
sidebarLayout(
sidebarPanel(
sliderInput("bins",
"Number of bins:",
min = 1,
max = 50,
value = 30),
selectInput('RegTyp', 'Regression type', choices = list("lm","glm", "gam", "loess", "rlm"), selected = "lm")
),
# Show a plot of the generated distribution
mainPanel(
plotOutput(list("plot1","plot2"))
)
)
)
# Define server logic required to draw a histogram
server <- function(input, output) {
output$distPlot <- renderPlot({
# generate bins based on input$bins from ui.R
x    <- faithful[, 2]
bins <- seq(min(x), max(x), length.out = input$bins + 1)
# draw the histogram with the specified number of bins
output$plot1 <- ggplot(polyps, aes(x=baseline, colour="blue", fill=sex)) +
geom_histogram(alpha=0.5, position="identity",bins=bins) +
facet_grid(sex ~ .) +
labs(x = 'Waiting time to next eruption (in mins)',
title = 'Histogram of waiting times')
## plot age against number3m and include a regression line with confint
output$plot2 <- ggplot(polyps, aes(x=age,y=number3m, colour="blue", fill=sex))  +
geom_point() +
facet_grid(sex ~ .) +
labs(x = 'Age', y='3m',
title = 'Seperate plots of correlation between 3m and age for both men and women') +
scale_x_log10() +
scale_y_log10() +
stat_smooth(method=input$RegTyp)
## add table with first few lines of data
head(polyps)
})
}
# Run the application
shinyApp(ui = ui, server = server)
# Define UI for application that draws a histogram
ui <- fluidPage(
# Application title
titlePanel("Polyps baseline histogram"),
# Sidebar with a slider input for number of bins
sidebarLayout(
sidebarPanel(
sliderInput("bins",
"Number of bins:",
min = 1,
max = 50,
value = 30),
selectInput('RegTyp', 'Regression type', choices = list("lm","glm", "gam", "loess", "rlm"), selected = "lm")
),
# Show a plot of the generated distribution
mainPanel(
plotOutput(list("plot1"))
)
)
)
# Define server logic required to draw a histogram
server <- function(input, output) {
output$distPlot <- renderPlot({
# generate bins based on input$bins from ui.R
x    <- faithful[, 2]
bins <- seq(min(x), max(x), length.out = input$bins + 1)
# draw the histogram with the specified number of bins
output$plot1 <- ggplot(polyps, aes(x=baseline, colour="blue", fill=sex)) +
geom_histogram(alpha=0.5, position="identity",bins=bins) +
facet_grid(sex ~ .) +
labs(x = 'Waiting time to next eruption (in mins)',
title = 'Histogram of waiting times')
## plot age against number3m and include a regression line with confint
output$plot2 <- ggplot(polyps, aes(x=age,y=number3m, colour="blue", fill=sex))  +
geom_point() +
facet_grid(sex ~ .) +
labs(x = 'Age', y='3m',
title = 'Seperate plots of correlation between 3m and age for both men and women') +
scale_x_log10() +
scale_y_log10() +
stat_smooth(method=input$RegTyp)
## add table with first few lines of data
head(polyps)
})
}
# Run the application
shinyApp(ui = ui, server = server)
# Define UI for application that draws a histogram
ui <- fluidPage(
# Application title
titlePanel("Polyps baseline histogram"),
# Sidebar with a slider input for number of bins
sidebarLayout(
sidebarPanel(
sliderInput("bins",
"Number of bins:",
min = 1,
max = 50,
value = 30),
selectInput('RegTyp', 'Regression type', choices = list("lm","glm", "gam", "loess", "rlm"), selected = "lm")
),
# Show a plot of the generated distribution
mainPanel(
plotOutput("plot1")
)
)
)
# Define server logic required to draw a histogram
server <- function(input, output) {
output$distPlot <- renderPlot({
# generate bins based on input$bins from ui.R
x    <- faithful[, 2]
bins <- seq(min(x), max(x), length.out = input$bins + 1)
# draw the histogram with the specified number of bins
output$plot1 <- ggplot(polyps, aes(x=baseline, colour="blue", fill=sex)) +
geom_histogram(alpha=0.5, position="identity",bins=bins) +
facet_grid(sex ~ .) +
labs(x = 'Waiting time to next eruption (in mins)',
title = 'Histogram of waiting times')
## plot age against number3m and include a regression line with confint
output$plot2 <- ggplot(polyps, aes(x=age,y=number3m, colour="blue", fill=sex))  +
geom_point() +
facet_grid(sex ~ .) +
labs(x = 'Age', y='3m',
title = 'Seperate plots of correlation between 3m and age for both men and women') +
scale_x_log10() +
scale_y_log10() +
stat_smooth(method=input$RegTyp)
## add table with first few lines of data
head(polyps)
})
}
# Run the application
shinyApp(ui = ui, server = server)
# Define UI for application that draws a histogram
ui <- fluidPage(
# Application title
titlePanel("Polyps baseline histogram"),
# Sidebar with a slider input for number of bins
sidebarLayout(
sidebarPanel(
sliderInput("bins",
"Number of bins:",
min = 1,
max = 50,
value = 30),
selectInput('RegTyp', 'Regression type', choices = list("lm","glm", "gam", "loess", "rlm"), selected = "lm")
),
# Show a plot of the generated distribution
mainPanel(
plotOutput(list("plot1","plot2"))
)
)
)
# Define server logic required to draw a histogram
server <- function(input, output) {
output$distPlot <- renderPlot({
# generate bins based on input$bins from ui.R
x    <- faithful[, 2]
bins <- seq(min(x), max(x), length.out = input$bins + 1)
# draw the histogram with the specified number of bins
output$plot1 <- renderPlot({
ggplot(polyps, aes(x=baseline, colour="blue", fill=sex)) +
geom_histogram(alpha=0.5, position="identity",bins=bins) +
facet_grid(sex ~ .) +
labs(x = 'Waiting time to next eruption (in mins)',
title = 'Histogram of waiting times'))}
# Define server logic required to draw a histogram
server <- function(input, output) {
output$distPlot <- renderPlot({
# generate bins based on input$bins from ui.R
x    <- faithful[, 2]
bins <- seq(min(x), max(x), length.out = input$bins + 1)
# draw the histogram with the specified number of bins
output$plot1 <- renderPlot({
ggplot(polyps, aes(x=baseline, colour="blue", fill=sex)) +
geom_histogram(alpha=0.5, position="identity",bins=bins) +
facet_grid(sex ~ .) +
labs(x = 'Waiting time to next eruption (in mins)',
title = 'Histogram of waiting times') )}
# Define server logic required to draw a histogram
server <- function(input, output) {
output$distPlot <- renderPlot({
# generate bins based on input$bins from ui.R
x    <- faithful[, 2]
bins <- seq(min(x), max(x), length.out = input$bins + 1)
# draw the histogram with the specified number of bins
output$plot1 <- renderPlot({
ggplot(polyps, aes(x=baseline, colour="blue", fill=sex)) +
geom_histogram(alpha=0.5, position="identity",bins=bins) +
facet_grid(sex ~ .) +
labs(x = 'Waiting time to next eruption (in mins)',
title = 'Histogram of waiting times')
})
## plot age against number3m and include a regression line with confint
output$plot2 <-  renderPlot({
ggplot(polyps, aes(x=age,y=number3m, colour="blue", fill=sex))  +
geom_point() +
facet_grid(sex ~ .) +
labs(x = 'Age', y='3m',
title = 'Seperate plots of correlation between 3m and age for both men and women') +
scale_x_log10() +
scale_y_log10() +
stat_smooth(method=input$RegTyp)
})
## add table with first few lines of data
head(polyps)
})
}
# Run the application
shinyApp(ui = ui, server = server)
# Define server logic required to draw a histogram
server <- function(input, output) {
output$plot1 <- renderPlot({
# generate bins based on input$bins from ui.R
x    <- faithful[, 2]
bins <- seq(min(x), max(x), length.out = input$bins + 1)
# draw the histogram with the specified number of bins
output$plot1 <- renderPlot({
ggplot(polyps, aes(x=baseline, colour="blue", fill=sex)) +
geom_histogram(alpha=0.5, position="identity",bins=bins) +
facet_grid(sex ~ .) +
labs(x = 'Waiting time to next eruption (in mins)',
title = 'Histogram of waiting times')
})
## plot age against number3m and include a regression line with confint
output$plot2 <-  renderPlot({
ggplot(polyps, aes(x=age,y=number3m, colour="blue", fill=sex))  +
geom_point() +
facet_grid(sex ~ .) +
labs(x = 'Age', y='3m',
title = 'Seperate plots of correlation between 3m and age for both men and women') +
scale_x_log10() +
scale_y_log10() +
stat_smooth(method=input$RegTyp)
})
## add table with first few lines of data
head(polyps)
})
}
runApp('Library/CloudStorage/OneDrive-UniversityofBristol/Health Data Science MSc/Applied Health Data Science/Week 9/firstshinyapp')
runApp('Library/CloudStorage/OneDrive-UniversityofBristol/Health Data Science MSc/Applied Health Data Science/Week 9/firstshinyapp')
# Define UI for application that draws a histogram
ui <- fluidPage(
# Application title
titlePanel("Polyps baseline histogram"),
# Sidebar with a slider input for number of bins
sidebarLayout(
sidebarPanel(
sliderInput("bins",
"Number of bins:",
min = 1,
max = 50,
value = 30),
selectInput('RegTyp', 'Regression type', choices = list("lm","glm", "gam", "loess", "rlm"), selected = "lm")
),
# Show a plot of the generated distribution
mainPanel(
plotOutput(list("plot1","plot2"))
)
)
)
# Define server logic required to draw a histogram
server <- function(input, output) {
output$plot1 <- renderPlot({
# generate bins based on input$bins from ui.R
x    <- faithful[, 2]
bins <- seq(min(x), max(x), length.out = input$bins + 1)
# draw the histogram with the specified number of bins
output$plot1 <- renderPlot({
ggplot(polyps, aes(x=baseline, colour="blue", fill=sex)) +
geom_histogram(alpha=0.5, position="identity",bins=bins) +
facet_grid(sex ~ .) +
labs(x = 'Waiting time to next eruption (in mins)',
title = 'Histogram of waiting times')
})
## plot age against number3m and include a regression line with confint
output$plot2 <-  renderPlot({
ggplot(polyps, aes(x=age,y=number3m, colour="blue", fill=sex))  +
geom_point() +
facet_grid(sex ~ .) +
labs(x = 'Age', y='3m',
title = 'Seperate plots of correlation between 3m and age for both men and women') +
scale_x_log10() +
scale_y_log10() +
stat_smooth(method=input$RegTyp)
})
})
}
# Run the application
shinyApp(ui = ui, server = server)
# Define UI for application that draws a histogram
ui <- fluidPage(
# Application title
titlePanel("Polyps baseline histogram"),
# Sidebar with a slider input for number of bins
sidebarLayout(
sidebarPanel(
sliderInput("bins",
"Number of bins:",
min = 1,
max = 50,
value = 30),
selectInput('RegTyp', 'Regression type', choices = list("lm","glm", "gam", "loess", "rlm"), selected = "lm")
),
# Show a plot of the generated distribution
mainPanel(
plotOutput("plot1")
)
)
)
# Define server logic required to draw a histogram
server <- function(input, output) {
output$plot1 <- renderPlot({
# generate bins based on input$bins from ui.R
x    <- faithful[, 2]
bins <- seq(min(x), max(x), length.out = input$bins + 1)
# draw the histogram with the specified number of bins
output$plot1 <- renderPlot({
ggplot(polyps, aes(x=baseline, colour="blue", fill=sex)) +
geom_histogram(alpha=0.5, position="identity",bins=bins) +
facet_grid(sex ~ .) +
labs(x = 'Waiting time to next eruption (in mins)',
title = 'Histogram of waiting times')
})
## plot age against number3m and include a regression line with confint
output$plot2 <-  renderPlot({
ggplot(polyps, aes(x=age,y=number3m, colour="blue", fill=sex))  +
geom_point() +
facet_grid(sex ~ .) +
labs(x = 'Age', y='3m',
title = 'Seperate plots of correlation between 3m and age for both men and women') +
scale_x_log10() +
scale_y_log10() +
stat_smooth(method=input$RegTyp)
})
})
}
# Run the application
shinyApp(ui = ui, server = server)
output$plot1 <- renderPlot({
ggplot(polyps, aes(x=baseline, colour="blue", fill=sex)) +
geom_histogram(alpha=0.5, position="identity",bins=30) +
facet_grid(sex ~ .) +
labs(x = 'Waiting time to next eruption (in mins)',
title = 'Histogram of waiting times')
})
ggplot(polyps, aes(x=baseline, colour="blue", fill=sex)) +
geom_histogram(alpha=0.5, position="identity",bins=30) +
facet_grid(sex ~ .) +
labs(x = 'Waiting time to next eruption (in mins)',
title = 'Histogram of waiting times')
# Define server logic required to draw a histogram
server <- function(input, output) {
output$plot1 <- renderPlot({
# generate bins based on input$bins from ui.R
x    <- faithful[, 2]
bins <- seq(min(x), max(x), length.out = input$bins + 1)
# draw the histogram with the specified number of bins
output$plot1 <- renderPlot({
ggplot(polyps, aes(x=baseline, colour="blue", fill=sex)) +
geom_histogram(alpha=0.5, position="identity",bins=bins) +
facet_grid(sex ~ .) +
labs(x = 'Waiting time to next eruption (in mins)',
title = 'Histogram of waiting times')
})
## plot age against number3m and include a regression line with confint
output$plot2 <-  renderPlot({
ggplot(polyps, aes(x=age,y=number3m, colour="blue", fill=sex))  +
geom_point() +
facet_grid(sex ~ .) +
labs(x = 'Age', y='3m',
title = 'Seperate plots of correlation between 3m and age for both men and women') +
scale_x_log10() +
scale_y_log10() +
stat_smooth(method=input$RegTyp)
})
})
}
# Run the application
shinyApp(ui = ui, server = server)
runApp('Library/CloudStorage/OneDrive-UniversityofBristol/Health Data Science MSc/Applied Health Data Science/Week 9/firstshinyapp')
runApp('Library/CloudStorage/OneDrive-UniversityofBristol/Health Data Science MSc/Applied Health Data Science/Week 9/firstshinyapp')
ggplot(polyps, aes(x=age,y=number3m, colour="blue", fill=sex))  +
geom_point() +
facet_grid(sex ~ .) +
labs(x = 'Age', y='3m',
title = 'Seperate plots of correlation between 3m and age for both men and women') +
scale_x_log10() +
scale_y_log10() +
stat_smooth(method=input$RegTyp)
ggplot(polyps, aes(x=age,y=number3m, colour="blue", fill=sex))  +
geom_point() +
facet_grid(sex ~ .) +
labs(x = 'Age', y='3m',
title = 'Seperate plots of correlation between 3m and age for both men and women') +
scale_x_log10() +
scale_y_log10() +
stat_smooth(method="glm")
ggplot(polyps, aes(x=age,y=number3m, colour="blue", fill=sex))  +
geom_point() +
facet_grid(sex ~ .) +
labs(x = 'Age', y='3m',
title = 'Seperate plots of correlation between 3m and age for both men and women') +
scale_x_log10() +
scale_y_log10() +
stat_smooth(method="lm")
# Define server logic required to draw a histogram
server <- function(input, output) {
output$plot1 <- renderPlot({
# generate bins based on input$bins from ui.R
x    <- faithful[, 2]
bins <- seq(min(x), max(x), length.out = input$bins + 1)
# draw the histogram with the specified number of bins
output$plot1 <- renderPlot({
ggplot(polyps, aes(x=baseline, colour="blue", fill=sex)) +
geom_histogram(alpha=0.5, position="identity",bins=bins) +
facet_grid(sex ~ .) +
labs(x = 'Waiting time to next eruption (in mins)',
title = 'Histogram of waiting times')
})
## plot age against number3m and include a regression line with confint
output$plot2 <-  renderPlot({
ggplot(polyps, aes(x=age,y=number3m, colour="blue", fill=sex))  +
geom_point() +
facet_grid(sex ~ .) +
labs(x = 'Age', y='3m',
title = 'Seperate plots of correlation between 3m and age for both men and women') +
scale_x_log10() +
scale_y_log10() +
stat_smooth(method=input$RegTyp)
})
})
}
# Run the application
shinyApp(ui = ui, server = server)
# Run the application
shinyApp(ui = ui, server = server)
setwd("/Users/benny/Library/CloudStorage/OneDrive-UniversityofBristol/Health Data Science MSc/Applied Health Data Science/Assessment 2")
diet <- read.xport("raw/FFQRAW_D.XPT")
head(diet)
## diet questionnaire
library(foreign)
diet <- read.xport("raw/FFQRAW_D.XPT")
diet <- read.xport("raw/FFQRAW_D.csv")
diet <- read.csv("raw/FFQRAW_D.csv")
head(diet)
write.csv(accel, "raw/FFQRAW_D.csv", row.names=FALSE)
write.csv(diet, "raw/FFQRAW_D.csv", row.names=FALSE)
## bmi
bmi <- read.csv("BMX_D.XPT")
head(bmi)
write.csv(bmi, "BMX_D.csv", row.names=FALSE)
# save id and bmi only from BMXBMI data
bmi = bmi[, c('SEQN', 'BMXBMI')]
write.csv(bmi, 'BMI.csv', row.names=FALSE)
## demographics
demo <- read.csv("DEMO_D.XPT")
head(demo)
## demographics
demo <- read.csv("DEMO_D.csv")
head(demo)
write.csv(demo, "DEMO_D.csv", row.names=FALSE)
source("~/Library/CloudStorage/OneDrive-UniversityofBristol/Health Data Science MSc/Applied Health Data Science/Assessment 2/ahds-summative-data-prep.R", echo=TRUE)
diet <- read.csv("raw/FFQRAW_D.csv")
head(diet)
write.csv(diet, "clean/FFQRAW_D.csv", row.names=FALSE)
## bmi
bmi <- read.csv("raw/BMI.csv")
head(bmi)
write.csv(bmi, "clean/BMX_D.csv", row.names=FALSE)
write.csv(bmi, 'clean/BMI.csv', row.names=FALSE)
## demographics
demo <- read.csv("raw/DEMO_D.csv")
head(demo)
write.csv(demo, "clean/DEMO_D.csv", row.names=FALSE)
